---
title: Welcome to Pippim
layout: default
---

<!-- Define hdr1 id with ToC and Skip navigation buttons (No "Top" or "ToS" buttons -->
<a id="hdr1"></a>
<div class="hdr-bar">  <a href="#hdr6" class="hdr-btn">ToC</a>  <a href="#hdr2" class="hdr-btn">Skip</a></div>

{% include image-left.html src="/assets/img/pngwing.com.png"
   alt="GitHub Octacat Mascot by pngwing.com"
   style="float: left; width: 45%; margin: 2em 1em 0px 0px; text-align: center;"
   caption="GitHub's Octocat Mascot image credit: 
      <a href='https://www.pngwing.com/en/free-png-medya'>PNGWING</a>"
%}

# Introduction

Welcome to Pippim. A collection of questions and 
answers about using your computer in Linux and 
specifically Ubuntu. All the solutions are free.
 You can use them as you like. There are also
 full-fledged applications that are free for 
you to use as well.

There are no ads on Pippim. You don't need to buy 
Pippim a coffee (it's already free at work!).
 Maybe some day you'll want to put all your
 technical documentation on an intranet or website and you will contract Pippim to help get the job done. Custom projects are the business model for how Pippim will earn revenue.

If you are an aspiring developer perhaps 
the code published here will help you get a start. 
If you are a systems administrator perhaps you
 can learn from the questions and answers posted 
here. If in Technical Support remember "Google search is your friend" and many answers posted here come from using the *Google Search* engine.


## Navigation Buttons

In this section we will discuss the *Page Navigation Buttons* that appear on the top of each page. Then we will discuss the *Section Navigation Buttons* that can appear at the top of major sections.

### Page Navigation Buttons

The top of each page contains navigation buttons to take you to other pages:

- <kbd>‚åÇ Home</kbd> brings you to this page.

- <kbd>‚ùì About</kbd> disccusses everything you want to know about Pippim. Still have questions? Just email.

- <kbd>‚úÖ Answers</kbd> to questions people have using computers. As of November 22, 2021, Pippim answers have over **52 million views!**

- <kbd>üíª Programs</kbd> are applicationss Pippim created to make your life easier.

- <kbd>üìß Email</kbd> lets you send an email to Pippim.

> ***NOTE:*** &ensp;When you click a button to go to a page, that button will disappear and be replaced by another. The page you are currently on will not display it's own button. This was done to limit number of buttons on mobile user screens. This technique deviates from conventional website design as of November 2, 2021. Perhaps this technique will be adopted in the future by other websites though. üòÑ

### Section Navigation Buttons

The top of major sections contain navigation buttons to take you to other sections:

- <kbd>Top</kbd> - Displays the top of the page

- <kbd>ToS</kbd> - Displays the top of the previous section

- <kbd>ToC</kbd> - Displays the Table of Contents

- <kbd>Skip</kbd> - Skips the section and displays the next section

---
<a id="hdr2"></a>
<div class="hdr-bar">  <a href="#" class="hdr-btn">Top</a>  <a href="#hdr1" class="hdr-btn">ToS</a>  <a href="#hdr6" class="hdr-btn">ToC</a>  <a href="#hdr3" class="hdr-btn">Skip</a></div>
## Get in Touch

There are many ways of getting in touch with Pippim. The conventional way via email and on other websites. The direct method on Stack Exchange Answers or GitHub Repos.

### The Conventional Way of Getting in Touch

Get in touch with pippim by sending an email. You can also visit the other pippim.com website on Google Sites.

- Click this link to: [üìß Send an Email to pippim](mailto:pippim.com@gmail.com "Send email to pippim.com@gmail.com")

- Click this link to visit the pippim website on Google Sites: [www.pippim.com](https://pippim.com "Visit www.pippim.com")

### Leave a Comment / Question at The Source

Leaving a comment or question at the source such as Stack Exchange answer or GitHub Repo saves you from explaining what your communicadtion is referring to.

#### Stack Exchange Answers (Ask Ubuntu)

![Ask Ubuntu image](/assets/img/ask_ubuntu.png){: style="float: left" height="20%" width="20%"}

You can leave a comment or question where the Stack Exchange answer appears. Each answer on this website here has a direct link to the original answer on Stack Exchage.
<br clear="left"/>

#### GitHub Repos

![Inspectocat detective cat with magnifying glass](/assets/img/Inspectocadt.jpeg){: style="float: left" width="20%"}

For Pippim programs on GitHub Repos, you can go directly to the repository and post a new issue. Issues can be bug reports, questions, requests for new features or enhancements to existing functions.
<br clear="left"/>

---
<a id="hdr3"></a>
<div class="hdr-bar">  <a href="#" class="hdr-btn">Top</a>  <a href="#hdr2" class="hdr-btn">ToS</a>  <a href="#hdr6" class="hdr-btn">ToC</a>  <a href="#hdr4" class="hdr-btn">Skip</a></div>

# GitHub Pages

This website was created on **GitHub Pages**. You can download (or simply view) this website [on GitHub](https://github.com/pippim/pippim.github.io/edit/main/index.md "See this website code on GitHub Pages"). This current page for example you can find in the markdown file called `index.md`.

With GitHub Pages you can very quickly get your own webiste up and running by
simply picking from a collection of website designs called themes. GitHub Pages
is free to use. Although you will likely do most of your writing from a MAC,
Linux or Windows PC, one of the cool things is you can change your website from
a cell phone.

## **TL;DR**

"**TL;DR**" stands for "**Too Long, Didn't Read**". So unless you
are truly interested in the technology of websites and how this website 
in particular was created, you will probably want to stop reading
the rest of this page.

Whenever you commit to a website repository, GitHub Pages will run
[Jekyll](https://jekyllrb.com/ "See how Jekyll rebuilds GitHub Pages websites")
to rebuild the pages in your site, from the content in your Markdown files.

The Pippim website is based on the GitHub Pages Jekyll theme called 
[Cayman](https://pages-themes.github.io/cayman/ "Visit the Cayman Theme for GitHub Pages website").
Initial setup was straight forward and very quick. However adding custom buttons 
becomes more complicated as you need to learn 
[HTML](https://blog.webjeda.com/new-page-jekyll/ "See how HTML is used in Jekyll") 
and [Sass/SCSS](https://jekyllrb.com/docs/configuration/sass/ "See how Sass is used in Jekyll").

<a id="hdr4"></a>
<div class="hdr-bar">  <a href="#" class="hdr-btn">Top</a>  <a href="#hdr3" class="hdr-btn">ToS</a>  <a href="#hdr6" class="hdr-btn">ToC</a>  <a href="#hdr5" class="hdr-btn">Skip</a></div>

## Markdown

GitHub Pages and many other websites use a language called Markdown.
Markdown is a lightweight and easy-to-use syntax for styling your 
writing. It includes conventions for:

```
Syntax highlighted code block

# Header 1
## Header 2
### Header 3

- Bulleted
- List

1. Numbered
2. List

**Bold** and _Italic_ and `Code` text

[Link](url) and ![Image](src)
```

For more details see 
[GitHub Flavored Markdown](https://guides.github.com/features/mastering-markdown/).

<a id="hdr5"></a>
<div class="hdr-bar">  <a href="#" class="hdr-btn">Top</a>  <a href="#hdr4" class="hdr-btn">ToS</a>  <a href="#hdr6" class="hdr-btn">ToC</a>  <a href="#hdr6" class="hdr-btn">Skip</a></div>

## How the Table of Contents is Generated

All markdown headers with `#`, `##` and `###`, etc. are used to create the **Table of Contents** (TOC). A little bit of one-time prep work is required for TOC support. For example, the file `_sass/toc.scss` is setup with:

``` scss
.screen-reader-only {
    position: absolute;
    left: -5000px;

    &:focus {
        left: 0;
    }
}
```

Another one-time setup is the file `_includes/toc.md` containing the markdown for how the TOC looks and functions. This file contains:

``` sass
## Table of Contents
{:.no_toc}

* TOC
{:toc}
```

To get a Table of Contents (TOC) in any website page, insert a liquid tag where you want the TOC to appear. For example on this website page you are reading, `index.md`, you would see the following markdown code:

``` html
... in real markdown below and generates the actual TOC:
{% raw %}
{% include toc.md %}
{% endraw %}    
<a id="hdr7"></a>
<div class="hdr-bar">  <a href="#" class="hdr-btn">Top</a> ... </div>
```

The TOC command is used in real markdown below and generates the actual TOC:

<a id="hdr6"></a>
<div class="hdr-bar">  <a href="#" class="hdr-btn">Top</a>  <a href="#hdr5" class="hdr-btn">ToS</a>  <a href="#hdr7" class="hdr-btn">Skip</a></div>

{% include toc.md %}

---

<a id="hdr7"></a>
<div class="hdr-bar">  <a href="#" class="hdr-btn">Top</a>  <a href="#hdr6" class="hdr-btn">ToS</a>  <a href="#hdr6" class="hdr-btn">ToC</a>  <a href="#hdr8" class="hdr-btn">Skip</a></div>

{% include image-right.html src="/assets/img/github pages themes.png"
   alt="github pages themes.png"
   style="float: right; width: 60%; margin: 2em 0px 0px 1em; text-align: center;"
   caption="Image credit:
            <a href='https://docs.ycrc.yale.edu/clusters-at-yale/guides/github_pages/'
               >Yale University</a>"
%}

## Jekyll Themes

There are many [GitHub Pages Jekyll Themes](https://pages.github.com/themes/)
you can pick from for your website. Spend some time reviewing your options
before committing to one.

Initially the Pippim website used the Cayman Theme for a day. Then the
Merlot Theme was used for a week and then it came back full circle to the 
Cayman Theme again.

At first the Cayman Theme 
[didn't display the page title properly](https://github.com/pages-themes/cayman/issues/134).
Consequently the Merlot theme was used. However problems arose with the Merlot banner on
the left not rendering properly on small screens. So it was back to Cayman and after
changing the theme, the page title worked properly. New problems arose
with the page buttons, <kbd>Home</kbd>, <kbd>About</kbd>, etc. With trial 
and error however those problems were solved too.

This is the first website Pippim created. The somewhat naive initial estimate
was it would take a weekend to create. That estimate was back on 
October 16, 2021 and today is November 16, 2021. The 
moral of the story is: *"It may take longer than expected
to set up your first website but, don't give up."* &ensp; **You can do it!** üòÑ

Your GitHub Pages site will use the layout and styles from the Jekyll
theme you have selected in your 
[repository settings](https://github.com/pippim/pippim.github.io/settings/pages).
The name of this theme is saved in the Jekyll `_config.yml` configuration file.

To see the current Jekyll, Sass, Rouge version numbers, etc. used by
**GitHub Pages** click [here](https://pages.github.com/versions/).

There are many open-source providers involved in the Pippim website:

- GitHub Pages
- Jekyll
- Liquid
- Sass
- Cayman Theme
- Ruby
- Gems
- Bootstrap
- Rouge
- Kramdown
- Pippim

<a id="hdr8"></a>
<div class="hdr-bar">  <a href="#" class="hdr-btn">Top</a>  <a href="#hdr7" class="hdr-btn">ToS</a>  <a href="#hdr6" class="hdr-btn">ToC</a>  <a href="#hdr9" class="hdr-btn">Skip</a></div>

## Images, Javascript, CSS and HTML

It is important to follow these instructions to setup your site:
[Adding a theme to your GitHub Pages site using Jekyll](https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/adding-a-theme-to-your-github-pages-site-using-jekyll). 
For example, `_layouts/default.html` needs to be copied from the
theme to your own websited in order to make significant changes 
to the theme.

There are many file types in the Pippim website stored at various
locations:

- A few local images are stored in `assets/img/` directory. The hundreds of images in blog posts come directly from Stack Exchange and are not stored on the `pippim.github.io` website.
- SCSS and [Sass CSS](https://www.geeksforgeeks.org/what-is-the-difference-between-scss-and-sass/) files are mostly stored in the `assets/css/` directory. Some are stored in the `_sass/` directory. The `_sass/` directory has files you can't see in `pippim.github.io` because they are really stored in the Cayman Theme for Jekyll and automatically pulled from there whenever website is rendered.
- This <kbd>‚åÇ Home</kbd> page is stored in `index.md` file in the root directory (`/`).
- The <kbd>‚ùì About</kbd> page is stored in `about.md` in `/`.
- The <kbd>‚úÖ Answers</kbd> page is stored in `answers.md` in `/`. Individual answers are internally known as "blog posts" and are stored in the `_posts` directory with one file per answer.
- The <kbd>üíª Programs</kbd> page is stored in `programs.md` in `/`.
- HTML encoding can be found in any file. Small bits and pieces of HTML can beven be found in andmarkdown files which end in `.md`. Pure HTML files (with no markdown or CSS) can be found in the `_includes` directory.
- Javascript files are kept in `assets/js/`.

### Pippim Website Directory Tree

The directory tree will help you get a better understanding of the Pippim website at `pippim.github.io`. As of October 30, 2021, the directory tree for Pippim on GitHub Pages looked like this:

``` bash
pippim.github.io
‚îÇ
‚îú‚îÄ‚îÄ about.md
‚îú‚îÄ‚îÄ answers.md
‚îú‚îÄ‚îÄ assets
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ css
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ style.scss
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ img
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ ask_ubuntu.png
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ Ask Ubuntu profile.png
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ Blog_Project-Management-101.png
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ earth-from-space.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ Edmonton  Temperature Nov 21, 2021.png
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ Edm Temp.png
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ github pages themes.png
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ Inspectocadt.jpeg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ octojekyll-opt.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ Pippim Post More Button Working.gif
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ pngwing.com.png
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ js
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ copyCode.js
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ post_fm.js
‚îú‚îÄ‚îÄ _config.yml
‚îú‚îÄ‚îÄ _includes
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ copyHeader.html
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ head-custom.html
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ image.html
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ image-left.html
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ image-right.html
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ toc.md
‚îú‚îÄ‚îÄ index.md
‚îú‚îÄ‚îÄ _layouts
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ default.html
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ post.html
‚îú‚îÄ‚îÄ LICENSE
‚îú‚îÄ‚îÄ _plugins
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ insert_git_code.rb
‚îú‚îÄ‚îÄ _posts
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ 2021-10-24-welcome-to-jekyll.md
‚îú‚îÄ‚îÄ programs.md
‚îú‚îÄ‚îÄ _sass
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ jekyll-theme-cayman.scss
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ toc.scss
‚îî‚îÄ‚îÄ sede
    ‚îú‚îÄ‚îÄ QueryResults.csv
    ‚îú‚îÄ‚îÄ StackQuery
    ‚îî‚îÄ‚îÄ stack-to-blog.py

10 directories, 35 files
```

**NOTE:** The `_posts` directory will contain over 1200 blog posts 
which are not displayed above.

### Daily Backup

Normally you will `git pull` all the directories and files from your website to your local drive.
If you plan on working locally you probably backup your daily work. This script
is what Pippim uses for dailiy backup to gmail.com (in the cloud so safe?):

``` bash
# WEBSITE - Local copies of files on pippim.github.io (EXCLUDES /assets/css/img)
tar -rpf "$Filename" website/*.md       # about.md, answers.md, programs.md   
tar -rpf "$Filename" website/*.yml      # _config.yml
tar -rpf "$Filename" website/_includes  # copyHeader.html, image.html & toc.md
tar -rpf "$Filename" website/_layouts   # default.html & post.html
tar -rpf "$Filename" website/_plugins   # insert_git_code.rb (NOT supported)
tar -rpf "$Filename" website/_sass      # jekyll-theme-cayman.scss & toc.scss
tar -rpf "$Filename" website/assets/css # style.scss file
tar -rpf "$Filename" website/assets/js  # javascript files
tar -rpf "$Filename" website/sede/*.py  # stack-to-blog.py and SEDE query below
tar -rpf "$Filename" website/sede/StackQuery
```

**NOTE:** This is a small subset of the daily backup script. The full script
may be posted someday if requested. The script is called from `cron` every
morning, compresses files, and emails to gmail.com automatically.

<a id="hdr9"></a>
<div class="hdr-bar">  <a href="#" class="hdr-btn">Top</a>  <a href="#hdr8" class="hdr-btn">ToS</a>  <a href="#hdr6" class="hdr-btn">ToC</a>  <a href="#hdr10" class="hdr-btn">Skip</a></div>

# Convert Stack Exchange Posts to Website Posts

Converting thousands of Stack Exchange Q&A in markdown format isn't as easy 
as simply copying them over to GitHub Pages. To generate Pippim's blog posts
fromt Stack Excahgne posts, the python program `stack-to-blog.py` was used.
The full `stack-to-blog.py` program can be accessed on the 
[Pippim Website repo](https://github.com/pippim/pippim.github.io/blob/main/sede/StackQuery).
This program automatically:

- Cretates Jekyll front matter.
- Selects Stack Exchange Posts based on meeting minimum criterea such as up-votes or accepted status.
- Prints summary totals when finished.

## Stack Exchange Data Explorer

The first step is to run the 
[Stack Exchange Data Explorer query](https://data.stackexchange.com/stackoverflow/query/1505559/all-my-posts-on-the-se-network-with-markdown-and-html-content-plus-editors-and-s?AccountId=4775729).
Many thanks to the the query's [Author](https://meta.stackexchange.com/a/371435/366359).

When the query finishes (it can take a few minutes), 
download all your questions and answers 
from Stack Exchange to your local storage in **CSV** (**C**omma **S**eparated
**V**alues) format. 

After downloading view `~/documents/QueryResults.csv` with Excel or
Libre Office Calc. After verifying the results are as expected,
proceed to the next section. Otherwise run the query again or modify 
It for expected results.

Keep in mind if you change the query you may have to add
extra CSV fields to the python `sede/stack-to-blog.py`. The next
step is to use:

``` bash
cd ~/website/sede
mv ~/Downloads/QueryResults.csv .
stack-to-blog.py
ls -l ../_posts/* | wc -l
```

This assumes your local copy of your website is in your home
directory with the name `website`. You can generate a local
copy with the 
[`git pull`](https://opensource.com/article/18/2/how-clone-modify-add-delete-git-files) 
command.

After the progma `stack-to-blog.py` finishes all your
blog posts for GitHub Pages will be stored in your
`~/website/_posts` directory. A count of the posts is
generated above using `ls -l ../_posts/* | wc -l`.

## Setting `stack-to-blog.py` Options

You set options in the program `stack-to-blog.py`.
It's a good idea to set the record limit to 10 or so
for your first few trials.

Review the four subsections below for fine-tuning your
Stack Exchange to Jekyll Blog Post conversion. They are:

- Random Record Limit
- Blog Post Selection Criteria
- Jekyll Front Matter
- TOC and Navigation Buttons

### Random Record Limit

During intial testing phase you will want to utilize the
random record limit feature. This provides two
Benefits:

1. Limiting the number of blogs generated to your local 
Storage.
2. Returning different blogs at random each time the
Program is run

Here is the relevant section of code where you can 
change the `RANDCOM_LIMIT`:

``` python
INPUT_FILE = 'QueryResults.csv'
RANDOM_LIMIT = 10           # On initial trials limit the number of blog posts
PRINT_RANDOM = True         # Print out matching random recordS found
OUTPUT_DIR = "_posts/"      # Subdirectory name. Use "" for current directory
```

Initially you will want to have `PRINT_RANDOM` set to `True`. 
when you decide to "pull the trigger" and want all your Stack Exchange posts
converted to your website blog posts, just change `RANDOM_LIMIT` to 
a large number like `10000` (ten thousand). Also set `PRINT_RANDOM` to `False`.
The program finishes a lot faster without printing 10's of thousands of
lines to your screen.

<a id="hdr10"></a>
<div class="hdr-bar">  <a href="#" class="hdr-btn">Top</a>  <a href="#hdr9" class="hdr-btn">ToS</a>  <a href="#hdr6" class="hdr-btn">ToC</a>  <a href="#hdr11" class="hdr-btn">Skip</a></div>

### Blog Post Selection Criteria

Although most of the focus is on converting SE Answers
to blog posts, you can convert SE Questions to blog
posts as well. There is special processing when you have
written both the question and an answer. That is
called a self-answered question.

Considerations for self-answered questions:

- Questions are never converted to a blog post only
the answers.
- If the question has enough up-votes it doesn't
matter because only the answer up-votes count.

The program defaults are to only convert answers that
are accepted or have two or more up votes. The program
defaults to never convert questions.

Here is the relevant code:

``` python
QUESTIONS_QUALIFIER = False  # Don't upload questions
VOTE_QUALIFIER = 2          # Posts need at least 2 votes to qualify
ACCEPTED_QUALIFIER = True   # All accepted answers are uploaded
# Don't confuse above with row 'ACCEPTED' index or the flag 'FRONT_ACCEPTED'
```

If you change `QUESTION_QUALIFIER` to `True`, then questions
will also be converted to blog posts. If they are
self-answered questions though, the answer is converted
instead.

When the program finishes a list of all self-answered questions
that were not accepted is printed. No doubt you forgot to go
back after two day mandatory waiting period to accept your own
answer. Copy URL's from the list to your browser address bar
and accept the answers in Stack Exchange. After you've
accepted your own answers you should run the query, 
download `QueryResults.csv` and `run stack-to-blog.py`

### Jekyll Front Matter

Jekyll front matter is defined in `stack-to-blog.py`.
It is written at the beginning of each blog post.
It is displayed at the top of each post on your
website.

#### Define front matter in `stack-to-blog.py`

This python code shows how
[Jekyll front matter](https://jekyllrb.com/docs/front-matter/)
is controlled inside `stack-to-blog.py`:

{% include copyHeader.html %}
``` python
FRONT_SITE      = "site:         "  # EG "site:         Ask Ubuntu"
FRONT_POST_ID   = None              # EG "post_id:      1104017"
FRONT_URL       = "stack_url:    "  # EG "stack_url:    https://askubuntu.com/q/1104017"
                                    # If selected you MUST select FRONT_SITE & FRONT_TYPE too
FRONT_LINK      = None              # EG "post_link:    https://askubuntu.com/q/1104017|How can I
                                    # send mobile text message from terminal?"
FRONT_TYPE      = "type:         "  # EG "type:         Question"
FRONT_TITLE     = "title:        "  # Always appears in front matter!
FRONT_HTML      = None              # This will NEVER be put into front matter
FRONT_MARKDOWN  = None              # This will NEVER be put into front matter
FRONT_TAGS      = "tags:         "  # EG "tags:         command-line bash sms
FRONT_CREATED   = "created_date: "  # EG "created_date: 2020-01-15 15:21:55"
FRONT_LAST_EDIT = "edit_date:    "  # EG "edit_date:    2020-05-27 17:27:45"
FRONT_EDITED_BY = None              # EG "edit_user:    Community (-1)"
FRONT_SCORE     = "votes:        "  # EG "votes:        64" or blank/nil
FRONT_FAVORITES = "favorites:    "  # EG "favorites:    33" or blank/nil
FRONT_VIEWS     = "views:        "  # EG "views:        72,056" or blank/nil
FRONT_ANSWERS   = None              # EG "answers:      3" or blank/nil
FRONT_ACCEPTED  = "accepted:     "  # EG "accepted:     Accepted" or blank/nil
FRONT_CW        = None              # EG "community:    CW" blank/nil
FRONT_CLOSED    = None              # EG "closed:       Closed" or blank/nil

# Extra front matter generated by `stack-to-blog.py` actions:
FRONT_LAYOUT    = "layout:       post"  # "layout:" MUST be used "post" can be changed
FRONT_UPLOADED  = "uploaded:     "  # Date & Time this program was run
FRONT_TOC       = "toc:          "  # Table of Contents? "true" or "false"
FRONT_NAV_BAR   = "navigation:   "  # Section navigation bar? "true" or "false"
FRONT_CLIPBOARD = "clipboard:    "  # Copy to clipboard button used? "true" or "false"
```

*When the global variable name `FRONT_xxx` 
is set to `= None`, no front matter is written.*

#### Front matter in each blog post

Based on the global variable settings above, 
the following front matter would be generated:

``` yaml
---
layout:       post
title:        How can I send mobile text message from terminal?
site:         Ask Ubuntu
stack_url:    https://askubuntu.com/q/1104018
type:         Answer
tags:         command-line bash windows-subsystem-for-linux sms
created_date: 2018-12-23 13:55:49
edit_date:    2020-06-12 14:37:07
votes:        60
favorites:    
views:        72,429
accepted:     Accepted
uploaded:     2021-11-15 19:56:38
toc:          false
navigation:   false
clipboard:    false
---
```

#### Front matter displayed on your website page

This is how front matter is displayed on your
website page:

{% include image.html src="/assets/img/Pippim Post More Button Working.gif"
   style="float: none; width: 100%; margin: 0 0 0 0;"
%}

The **Views:** <mark>2963</mark>
label is generated by front matter `views:` Followed by
**Votes:** <mark>15</mark> generated by `votes:`. 

Next ‚úÖ&nbsp;<mark>&nbsp;Accepted&nbsp;Answer&nbsp;</mark> text is 
generated by the front matter
variable `accepted:`. It appears if `accepted:` contains the
string "Accepted". When `accepted:` string is nil (empty) then
no checkmark or text appears.

The **Tags:** are controlled by the front matter variable `tags:`
and can also include pseudo-tags. In this case `multi-timer`
pseudo-tag has been added to `tags:` front matter.

Then you see one of the most powerful
features of Pippim's automataed blog pages:

[üîç See Original Answer on Ask Ubuntu](https://askubuntu.com/q/837115).

This Stack Exchange post link is generated 
by three front matter variables:

- The link itself is provided by `stack_url:`
- The word **Answer**
is controlled by `type:`
- **Ask Ubuntu** is controlled
by the `site:` front matter variable.

The "More" or "Less" button lets you choose between
more or less front matter.

If you want to change how front matter is displayed
on your website page, edit the files `_includes/page.html`
and `assets/js/post_fm.html`.

The <mark>Reverse Formatting</mark> is defined in
`assets/css/style.scss` thusly:

``` scss
// Swap font color and background color
mark {
  background-color: $header-bg-color;
  color: #FFFFFF;
}
```

### TOC, Navigation Buttons, Copy to Clipboard

The TOC (Table of Contents) and Navigation Bar Buttons
(which navigate between sections) you create for blog
posts are identical to the TOC and buttons you see on
this page.

The criteria for when and how the TOC and navigation 
buttons appear is almost identical.
The code for both is show below:

``` python

''' Table of Contents (TOC) options. '''
# If TOC is never wanted, set to None
.. in real markdown below and generates the actual TOC:
{% raw %}
CONTENTS = "{% include toc.md %}"
{% endraw %}
TOC_HDR_MIN = 6             # Number of Headers required to qualify TOC insert
TOC_WORD_MIN = 1000         # Minimum 1,000 words for TOC
TOC_LOC = 2                 # Insert TOC as 2nd header (Don't go below 2!)

NAV_BAR_OPT = 4             # Insert Navigation Bar into markdown?
''' 0 = No navigation bar
    1 = single line. EG <a id=... </div>
    2 = two lines. EG <a id= then new line then with <div>...</div>
    3 = Option 2 plus empty (blank) line above for readability
    4 = Option 3 plus empty (blank) line above for even more readability
    5 = Option 4 plus comment for ultimate readability

    Note: Markdown compresses all blank lines into a single blank line between
          paragraphs. HTML code inserted simply counts as another blank line to
          be compressed into a single blank line.
'''
NAV_BAR_LEVEL = 2           # Only for "#" or "##". Not for "###", "####", etc.
NAV_FORCE_TOC = True        # Put TOC to navigation bar regardless of "#"
NAV_BAR_MIN = 3             # Minimum number of # & ## headers required
NAV_WORD_MIN = 1000         # Minimum 1,000 words for navigation button bar

''' Copy code block contents to clipboard options. '''
# If Copy button is never wanted, set to None
COPY_TO_CLIPBOARD = "{% include copyHeader.html %}"
COPY_LINE_MIN = 20          # Number of lines required to qualify for button
```

A minimum number of `6` header lines (`#`, `##`, `###` ... 
`######`) are required before the TOC is inserted. Additionally 
a minimum of 1000 words are required. `TOC_LOC = 2` means the
TOC is inserted before the second header line.

For the navigation button bar only the first two header levels (# & ##)
are analyzed. After three headers at these levels are encountered
the navigation bar is inserted in front of these header
levels. A 1,000 word minimum is also required though. If not met
then no navigation buttons will appear in the post.

The copy to clipboard button will appear at the top of code blocks.
It isn't automatically inserted on all code blocks because it
takes up space on your website. If only a few lines appear in a
code block, the user can easily highlight with mouse and use
<kbd>Ctrl</kbd> + <kbd>C</kbd> to copy to clipboard.

The variable `COPY_LINE_MIN` specifies how many code block
lines are required before button appers. 
The default is `20` lines.

<a id="hdr11"></a>
<div class="hdr-bar">  <a href="#" class="hdr-btn">Top</a>  <a href="#hdr10" class="hdr-btn">ToS</a>  <a href="#hdr6" class="hdr-btn">ToC</a>  <a href="#hdr12" class="hdr-btn">Skip</a></div>

## Program Overview

The `stack-to-blog.py` program uses a two pass technique. The first pass 
does some formatting but mostly counts occurences of key markdown elements.

The second pass does most of the formatting and repeats some of the same
counting in order to insert HTML code in the correct places.

### Initialization

- Initial values are defined for global variables and their names
are in all upper-case letters.

- The `QueryResults.csv` file is read into a list call `rows`. 

- Then the main program outer loop reads each 
`row` in `rows`. Most of the front matter is set at the
top of the outer loop point.

- Next two passes are done on each row as described below.

### Pass 1

Each `row` has Stack Exchange Markdown which is converted into 
a list call `lines`.
Each `line` in `lines` is read in a new loop and analyzed by
the following functions:

- `line = check_code_block(line)`
- `line = header_space(line)`
- `line = block_quote(line)`
- `check_paragraph(line)`
- `command = check_copy_clipboard(curr_index)`

After pass 1 completes the following bit of code decides whether TOC
and/or navigation buttons are inserted:

``` python
    insert_toc = False
    if CONTENTS is not None:
        if header_count >= TOC_HDR_MIN and word_count >= TOC_WORD_MIN:
            insert_toc = True
            total_toc += 1
            print('total_toc:    ', total_toc, blog_filename)

    insert_nav_bar = False
    if NAV_BAR_OPT > 0:
        qualifier = sum(header_levels[:NAV_BAR_LEVEL])
        if qualifier >= NAV_BAR_MIN and word_count >= TOC_WORD_MIN:
            insert_nav_bar = True
            total_nav_bar += 1
```

### Pass 2

The second pass rereads the `lines` all over again taking
the knowledged gained in the first pass and using it to
create TOC and navigation bar buttons at the correct
locations.

Pass 2 must reinitialize some counts made in pass 1 so they
are not doubled up wen the `check_code_block(line)` fuction
is called again for each line.

Pass 2 does the key job of creating a new markdown file for
the website blog post based on the Stack Exchange Post:

{% include copyHeader.html %}
``` python
 for line in lines:
     check_code_block(line)      # Turn off formatting when in code block
     # Did this post qualify for adding navigation bar?
     # Save header levels counts we have now to "old_"
     old_header_levels = list(header_levels)
     line = header_space(line)   # Formatting for #Header or # Header lines
     if insert_nav_bar:
         sum1 = sum(old_header_levels[:NAV_BAR_LEVEL])
         sum2 = sum(header_levels[:NAV_BAR_LEVEL])
         # For next qualifying header level insert HTML for navigation bar.
         if sum1 != sum2:
             # First check if at TOC_LOC and insert TOC if needed
             if insert_toc:
                 if sum2 == TOC_LOC:
                     new_md = new_md + navigation_bar(TOC_LOC)
                     if NAV_BAR_OPT <= 3:
                         # If Option "4" a blank line already inserted before us
                         new_md = new_md + "\n"
                     new_md = new_md + CONTENTS + "\n"
                     new_md = new_md + "\n"  # When 4 a blank line already inserted before us
                     toc_inserted = True  # Not necessary but is consistent
                 if sum2 >= TOC_LOC:
                     sum2 += 1   # All heading levels after TOC are 1 greater

             new_md = new_md + navigation_bar(sum2)

     elif insert_toc:
         # No navigation bar but we still need TOC at header count
         if header_count == TOC_LOC and toc_inserted is False:
             if NAV_BAR_OPT <= 3:
                 # If Option "4" a blank line already inserted before us
                 new_md = new_md + "\n"
             new_md = new_md + CONTENTS + "\n"
             new_md = new_md + "\n"
             toc_inserted = True  # Prevents regeneration next line read
             print('toc only:', blog_filename)

     new_md = new_md + line + '\n'
```

Finally pass 2 writes the blog footer section and depending on
random record limit physically writes the blog to local
storage.

Then the next `row` from `rows` is read and pass 1 starts over again.

<a id="hdr12"></a>
<div class="hdr-bar">  <a href="#" class="hdr-btn">Top</a>  <a href="#hdr11" class="hdr-btn">ToS</a>  <a href="#hdr6" class="hdr-btn">ToC</a>  <a href="#hdr13" class="hdr-btn">Skip</a></div>

## Detailed Markdown Conversion

When reading the details below keep in mind when "Pippim" is stated it's just
shorthand for saying "`stack-to-blog.py` python program".

1. Pippim adds navigation bar buttons (Top, ToS, ToC and Skip) by putting HTML code into the markdown files. Then HTML code controls jumping to id tags when a button is clicked. Here's an easy-to-read example of the HTML code:
  
    ``` html
    # Introduction
    
    Welcome to Pippim. A collection of questions and answers about...
    
    <a id="hdr2"></a>
    <div class="hdr-bar">
      <a href="#" class="hdr-btn">Top</a>
      <a href="#hdr1" class="hdr-btn">ToS</a>
      <a href="#hdr6" class="hdr-btn">ToC</a>
      <a href="#hdr3" class="hdr-btn">Skip</a>
    </div>
    
    ## Get in touch
    
    Get in touch with pippim by sending an email. You can also...
    ```

2. In the markdown file that `stack-to-blog.py` creates, the HTML id tag and navigation bar buttons aren't as easy to read but accomplish the same task:

    ``` html
    <a id="hdr2"></a>
    <div class="hdr-bar">  <a href="#" class="hdr-btn">Top</a>  <a href="#hdr1" class="hdr-btn">ToS</a>  <a href="#hdr6" class="hdr-btn">ToC</a>  <a href="#hdr3" class="hdr-btn">Skip</a></div>
    
    ## Get in touch
    ```

3. Two extra spaces are added between HTML elements for readability and some extra spacing between buttons. A blank line is added before the HTML id tag and after the HTML button bar for readability. Because the markdown interpreter condenses multiple blank lines into a single blank line, the HTML code has no effect on line spacing.

4. If you would like to modify the button properties (position, color, size, hover, etc), the header button bar (`hdr-bar`) and individual buttons (`hdr-btn`) are defined in filename `assets/css/style.scss`:
    
    ``` scss
    .hdr-bar {
      display: block;
      position: relative;
      width: 100%;
      height: .5rem;            // Add bit extra for button box height
      text-align: right;        // Don't use "float: right;" that renders backwards
      &:before {
          content: "";
          display: block;
        }
      }
      
      .hdr-btn {
        display: inline-block;
        position: relative;
        color: $header-bg-color;  // Cayman green
        padding: 5px 15px;        // vertical, horizontal padding around button text
        font-size:0.75em;         // 75% of normal font for button text
        margin-left: 10px;        // Now that right aligned, switch margin side
        // From: https://stackoverflow.com/questions/65297617
        background: linear-gradient(transparent,rgba(0, 0, 0, 0.4)) top/100% 800%;
        background-color:#F0FFF0; // Honeydew
      
        &:hover {
          background-position:bottom;
          color:#F0FFF0;
        }
      }
      ```

5. Block quotes are defined in Stack Exchange like this:
```
> line 1
> line 2
```
    5.1. If they were not modified they would display on GitHub Pages Markdown as:
    > line 1
    > line 2

    5.2. Pippim appends two spaces to the end of block quotes in Stack Exhange answers so they render properly:
    > line 1  
    > line 2  

6. **Note:** You can open one of the blog posts and compare it to the Stack Exchange original answer.

7. Pippim will take older markdown format on Stack Exchange Answers where `#Header` was used and convert it to `# Header`.

8. The alternate H1 markdown format "`Header 1`" line followed by a "`==`" line are converted to "`# Header 1`". The alternate H2 markdown format "`Header 2`" line followed by a "`--`" line are converted to "`## Header 2`". Trailing "==" and "--" lines are converted to blank lines.

9. Pippim converts Stack Exchange tags formated as: `<Tag1><Tag2><Tag3>` and converts them to: `tags: Tag1 Tag2 Tag3` for Jekyll *front matter*.

10. Pippim setups the Jekyll front matter as required for `title:` and sets the blog filename as expected. However it also allows custom front matter for URL, Votes, Last Edit Date, etc.

11. Stack Exchange command for `<!-- language-all: lang-bash -->` (and all other languages) are converted to suitable <code>``` bash</code> fenced code blocks for GitHub Pages Markdown / Jekyll / Kramdown / Rouge lanuguage syntax highlighting.

12. For large code blocks a "Copy to Clipboard" button is provided.

The full `stack-to-blog.py` program can be accessed on the [Pippim Website repo](https://github.com/pippim/pippim.github.io/blob/main/sede/stack-to-blog.py).

<a id="hdr13"></a>
<div class="hdr-bar">  <a href="#" class="hdr-btn">Top</a>  <a href="#hdr12" class="hdr-btn">ToS</a>  <a href="#hdr6" class="hdr-btn">ToC</a>  <a href="#hdr14" class="hdr-btn">Skip</a></div>

## Jekyll Blog Post Filename

The filename for a Jekyll blog post resides in the `_posts/` directory and requires strict formatting:

- Begins with date in `YYYY-MM-DD` format followed by `-`.
- Next comes the title which has spaces repaced by `-`.
- The forward slash (`/`) character is illegal in filenames so it is replaced by division symbol (`‚àï`).
- The extension `.md` is added to the filename.

Here's the python function which creates the blog filename:

``` python
def create_blog_filename():
    """ Return blog filename.
        Replace all spaces in title with "-"
        Replace all forward slash (/) with ‚àï DIVISION SLASH U+2215
    """
    filename = '_posts/' + row[CREATED].split()[0] + '-' + \
        row[TITLE].replace(' ', '-').replace('/', '‚àï') + '.md'

    return filename
```

## Pseudo Tags

Pseudo tags are created in front matter when a keyword is found in an answer. If that keyword
is not a tag for the question already then it is added as a tag in front matter. Normally in
Stack Exchange tags are only defined for the question. However you might want to use tags
that highlight your answer. That is what "Pseudo Tags" are for.

Let's say for example you include a lot of Conky displays in your answers to illustrate
how a given solution works. A sort of "POC" (Proof of Concept). Now you'd like all your
answers that used Conky to be an available Tag that can be searched on. You would use
the keyword "conky" (all lower-case or mixed-case doesn't matter as a pseudo tag.

In the `stack-to-blog.py` python program they are defined like this:

``` python
 word_list = ln.split()

 ''' Add to pseudo-tags '''
 for pseudo in PSEUDO_TAGS:
     search = pseudo.lower()
     for word in word_list:
         if search == word.lower():
             pseudo_tag_count += 1
             total_pseudo_tags += 1
             if search not in pseudo_tag_names:
                 if search not in tags:
                     # All tag names added for this post
                     pseudo_tag_names.append(search)
             if search not in total_tag_names:
                 if search not in tags:
                     # All the tags added for all the posts
                     total_tag_names.append(search)
```

<a id="hdr14"></a>
<div class="hdr-bar">  <a href="#" class="hdr-btn">Top</a>  <a href="#hdr13" class="hdr-btn">ToS</a>  <a href="#hdr6" class="hdr-btn">ToC</a>  <a href="#hdr15" class="hdr-btn">Skip</a></div>

## Stack Exchnage `<!-- language` Tags

When Stack Exchange uses `<!-- language-all` it is converted to appropriate format for GitHub using this multi-purpose function:

{% include copyHeader.html %}
``` python
def check_code_block(ln):
    """ If line starts with ``` we are now in code block.

        If already in code block and line begins with ```
            then we are now out of code block.

        The same holds true if line contains <pre><code> and
            ends with </code></pre>

        Set default syntax language when none on code block. SE standard:
            <!-- language: bash -->
            <!-- language-all: lang-bash -->

     """
    global in_code_block, total_code_blocks, language_used
    ''' Code blocks may be indented so left strip spaces before test
    
        TODO: count number of backticks that initiate a code block.
              For example ```` (4) can start a code block then if ``` (3)
              appears it doesn't terminate code block but is interpreted
              literally as backticks. EG
              
              This is an example of using fenced code backticks:
              
              ````
              ``` html
              <element code>Stuff stuff stuff</element code>
              ```
              ```` 
    '''
    if ln.startswith("<!-- language"):
        language_used = ln.split(": ")[1]
        # Strip off " -->" at end of string
        language_used = language_used[:-4]
        if language_used.startswith("lang-"):
            # Strip off "lang-" at start of string
            language_used = language_used[5:]
        if language_used == "none":
            # "none" is best set as "text" for universal recognition
            language_used = "text"

        #print('language_used:', language_used, 'length:', len(language_used))
        return ""  # Former "<!-- language" line is now an empty line

    if ln.lstrip()[0:3] == "```":
        # Add language if not used already
        if ln[-1] == "`" or ln[-1] == " ":
            ln = ln + " " + language_used
        if in_code_block is False:
            total_code_blocks += 1      # Total for all posts
            in_code_block = True        # For this post only
        else:
            in_code_block = False       # For this post only

```

**NOTE:** This funcion also provides support for inserting the 
"Copy to Clipboard" button.

<a id="hdr15"></a>
<div class="hdr-bar">  <a href="#" class="hdr-btn">Top</a>  <a href="#hdr14" class="hdr-btn">ToS</a>  <a href="#hdr6" class="hdr-btn">ToC</a>  <a href="#hdr16" class="hdr-btn">Skip</a></div>

## Summary Totals

When the `stack-to-blog.py` finishes a summary appears on your screen:

```  cpp
// =============================/   T O T A L S   \============================== \\

RANDOM_LIMIT:     10,000  | PRINT_RANDOM:        False  | NAV_FORCE_TOC:        True
NAV_BAR_MIN:           3  | NAV_WORD_MIN:         1000  | COPY_LINE_MIN:          20
accepted_count:      623  | total_votes:         7,110  | total_views:    52,261,286
question_count:      299  | answer_count:        2,143  | save_blog_count:     1,211
total_self_answer:   113  | total_self_accept:      54  | Self Needing Accept:    59
total_headers:     1,619  | total_header_spaces:   402  | total_quote_spaces:  1,563
total_lines:      56,410  | total_paragraphs:   15,991  | total_words:       317,101
total_pre_codes:       0  | total_alternate_h1:      0  | total_alternate_h2:     31
total_code_blocks:   264  | code_block_lines:    3,562  | total_clipboards:       32
total_pseudo_tags:   170  | total_copy_lines:    2,671  | total_toc:              25
most_lines:          820  | total_force_end:     1,052  | total_nav_bar:          37
total_header_levels:  [599, 798, 220, 2, 0, 0]
total_tag_names:      ['conky', 'multi-timer', 'eyesome', 'cpuf', 'iconic']
```

Each total name with an underscore (`_`) is the
python program internal variable name. The
first four total lines apply to all Stack Exchnage
Questions and Answers you have posted.
The remaining total lines apply only to posts that qualify
for saving as a Jekyll blog post.

If you want to change the totals layout it is found in the code below:

{% include copyHeader.html %}
``` python
print('// =====================/   T O T A L S   \\====================== \\\\')
print('')
print('RANDOM_LIMIT:     {:>6,}'.format(RANDOM_LIMIT),
      ' | PRINT_RANDOM:  {:>11}'.format(str(PRINT_RANDOM)),
      ' | NAV_FORCE_TOC: {:>11}'.format(str(NAV_FORCE_TOC)))
print('NAV_BAR_MIN:      {:>6,}'.format(NAV_BAR_MIN),
      ' | NAV_WORD_MIN:  {:>11}'.format(NAV_WORD_MIN),
      ' | COPY_LINE_MIN: {:>11}'.format(COPY_LINE_MIN))
print('accepted_count:   {:>6,}'.format(accepted_count),
      ' | total_votes:   {:>11,}'.format(total_votes),
      ' | total_views:   {:>11,}'.format(total_views))
print('question_count:   {:>6,}'.format(question_count),
      ' | answer_count:       {:>6,}'.format(answer_count),
      ' | save_blog_count:    {:>6,}'.format(save_blog_count))
print('total_self_answer:{:>6,}'.format(total_self_answer),
      ' | total_self_accept:  {:>6,}'.format(total_self_accept),
      ' | Self Needing Accept:{:>6,}'.format(total_self_answer -
                                             total_self_accept))
print('total_headers:    {:>6,}'.format(total_headers),
      ' | total_header_spaces:{:>6,}'.format(total_header_spaces),
      ' | total_quote_spaces: {:>6,}'.format(total_quote_spaces))
print('total_lines: {:>11,}'.format(total_lines),
      ' | total_paragraphs:{:>9,}'.format(total_paragraphs),
      ' | total_words: {:>13,}'.format(total_words))
print('total_pre_codes:  {:>6,}'.format(total_pre_codes),
      ' | total_alternate_h1: {:>6,}'.format(total_alternate_h1),
      ' | total_alternate_h2: {:>6,}'.format(total_alternate_h2))
print('total_code_blocks:{:>6,}'.format(total_code_blocks),
      ' | code_block_lines:  {:>7,}'.format(total_code_block_lines),
      ' | total_clipboards:  {:>7,}'.format(total_clipboards))
print('total_pseudo_tags:{:>6,}'.format(total_pseudo_tags),
      ' | total_copy_lines:  {:>7,}'.format(total_copy_lines),
      ' | total_toc:         {:>7,}'.format(total_toc))
print('most_lines:       {:>6,}'.format(most_lines),
      ' | total_force_end:  {:>8,}'.format(total_force_end),
      ' | total_nav_bar:     {:>7,}'.format(total_nav_bar))
print('total_header_levels: ', total_header_levels)
print('total_tag_names:     ', total_tag_names)
```

<a id="hdr16"></a>
<div class="hdr-bar">  <a href="#" class="hdr-btn">Top</a>  <a href="#hdr15" class="hdr-btn">ToS</a>  <a href="#hdr6" class="hdr-btn">ToC</a></div>
