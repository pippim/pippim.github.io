---
layout:       post
title:        >
    Ubuntu 21.10 external monitor via USB-C will only mirror, not extend
site:         Ask Ubuntu
stack_url:    https://askubuntu.com/q/1398452
type:         Answer
tags:         nvidia display usb-c
created_date: 2022-03-20 22:58:01
edit_date:    
votes:        "1 "
favorites:    
views:        "2,963 "
accepted:     
uploaded:     2023-12-31 10:24:11
git_md_url:   https://github.com/pippim/pippim.github.io/blob/main/_posts/2022/2022-03-20-Ubuntu-21.10-external-monitor-via-USB-C-will-only-mirror_-not-extend.md
toc:          false
navigation:   false
clipboard:    false
---

The weird thing in your output is:

``` 
DP-1-1 connected primary 1920x1080+0+0 (normal left inverted right x axis y axis) 521mm x 293mm
```

Because `eDP-1-1`, your laptop's display, should always be `primary`, not the external monitor.

You could try tweaking your BIOS as they did in this Q&A:

- [xrandr overrides --panning setting for HDMI display](https://www.linux.org/threads/solved-xrandr-overrides-panning-setting-for-hdmi-display.29898/ "disable hybrid graphics in BIOS in order for nvidia to pick up my internal display")

One tip to shorten your journey is to use:

``` shell
$ xrandr | grep " connected "

HDMI-0 connected 1920x1080+0+0 (normal left inverted right x axis y axis) 1107mm x 623mm
eDP-1-1 connected primary 1920x1080+3840+2160 (normal left inverted right x axis y axis) 382mm x 215mm
DP-1-1 connected 3840x2160+1920+0 (normal left inverted right x axis y axis) 1600mm x 900mm
```

Then all the disconnected monitors don't show up!

Another tip, is that even after your system is working, sometimes things will go "flakey". It's good to have a function to reset `panning` and other options. For example, on my system:

``` shell
$ cat ~/.bashrc | grep xreset -A10

xreset () {

    # Reset xrandr to normal, first use: xrandr | grep " connected "
    # HDMI-0 connected 1920x1080+0+0 (normal left inverted right x axis y axis) 1107mm x 623mm
    # eDP-1-1 connected primary 1920x1080+3840+2160 (normal left inverted right x axis y axis) 382mm x 215mm
    # DP-1-1 connected 3840x2160+1920+0 (normal left inverted right x axis y axis) 1600mm x 900mm
    xrandr --output HDMI-0  --mode 1920x1080 --pos 0x0       --rotate normal \
           --fb 1920x1080   --panning 1920x1080 \
           --output DP-1-1  --mode 3840x2160 --pos 1920x0    --rotate normal \
           --output eDP-1-1 --mode 1920x1080 --pos 3840x2160 --rotate normal \
           --primary
--
} # xreset
```

