---
layout:       post
title:        >
    Postfix won't transfer WordPress contact form emails to my Gmail account
site:         Ask Ubuntu
stack_url:    https://askubuntu.com/q/1013919
type:         Answer
tags:         configuration email postfix wordpress vps
created_date: 2018-03-11 16:05:46
edit_date:    2020-06-12 14:37:07
votes:        "1 "
favorites:    
views:        "1,702 "
accepted:     
uploaded:     2023-12-31 10:24:11
git_md_url:   https://github.com/pippim/pippim.github.io/blob/main/_posts/2018/2018-03-11-Postfix-won_t-transfer-WordPress-contact-form-emails-to-my-Gmail-account.md
toc:          false
navigation:   false
clipboard:    false
---

From [How to fix wordpress contact form not sending email with smtp][1]:

# Why WordPress Doesn’t Send Emails

WordPress uses the PHP mail function to send emails generated by WordPress or any contact plugin like WPForms. However, many WordPress hosting servers are not configured to use the mail function.

Additionally, in order to reduce spam, your email provider often checks whether your email is originating from the location it claims to be originating from. For example, if your email server is yahoo.com but your email claims to be sent from your website’s domain, chances are your form notification will be blocked before it even reaches the spam folder.

This is why we recommend using SMTP to send emails from WordPress instead of using the default PHP mail function.

SMTP (Simple Mail Transfer Protocol) is an industry standard way to send emails that use the proper authentication method to ensure email deliverability. 


----------


# Seven different ways to Sunday

This section heading is because today is Sunday and the article [How to fix wordpress contact form not sending email with smtp][1] lists Seven different ways to setup SMTP:

1. WP Mail SMTP: SMTP Setup
2. Gmail or G Suite
3. SendGrid
4. Mailgun
5. Postmark
6. WP SES
7. SparkPost


----------

# SMTP Setup

For myself I'm using the most simplest method to have `cron` email me error messages and daily backup reports: [Backup Linux configuration, scripts and documents to Gmail][2].

To summarize the steps:

``` 
sudo apt install ssmtp
sudo apt install sharutils
```

You also need to instruct gmail to allow less secure access to yourself in order to accept emails. It's documented in my answer above.

Your configuration file for `ssmtp` **MUST** be changed. Here is mine:

``` 
$ sudo cat /etc/ssmtp/ssmtp.conf
#
# Config file for sSMTP sendmail
#
# The person who gets all mail for userids < 1000
# Make this empty to disable rewriting.

# November 17, 2017.
# Required for cron to e-mail backups as per Ask Ubuntu answer:
# https://askubuntu.com/questions/917562/backup-linux-configuration-scripts-and-documents-to-gmail/922493#922493

#root=postmaster
root=WinEunuuchs2Unix@gmail.com

# The place where the mail goes. The actual machine name is required no 
# MX records are consulted. Commonly mailhosts are named mail.domain.com
#mailhub=mail
mailhub=smtp.gmail.com:587

AuthUser=WinEunuuchs2Unix@gmail.com
AuthPass=WinEunuuchs2UnixPassword
UseTLS=YES
UseSTARTTLS=YES
#Debug=YES

# Where will the mail seem to come from?
#rewriteDomain=
rewriteDomain=gmail.com

# The full hostname
hostname=alien

# Are users allowed to set their own From: address?
# YES - Allow the user to specify their own From: address
# NO - Use the system generated From: address
FromLineOverride=YES
```

Change the above lines to your gmail account name, password and machine name:

``` 
root=WinEunuuchs2Unix@gmail.com
AuthUser=WinEunuuchs2Unix@gmail.com
AuthPass=WinEunuuchs2UnixPassword
hostname=alien
```

Note that **WinEunuuchs2UnixPassword** is your gmail password not your Linux password. To get your `hostname` use `echo $HOSTNAME`.
## Follow the links in WordPress article.

The links in the WordPress article in the first link above should be followed to setup gmail. Only refer to my link for basic overview.

  [1]: https://wpforms.com/docs/how-to-fix-wordpress-contact-form-not-sending-email-with-smtp/
  [2]: {% post_url /2017/2017-06-06-Backup-Linux-configuration_-scripts-and-documents-to-Gmail %}
